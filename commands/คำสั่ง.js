const fs = require("fs");

module.exports.config = {
    name: "à¸”à¸¹à¸„à¸³à¸ªà¸±à¹ˆà¸‡",
    version: "3.3.0",
    hasPermssion: 0,
    credits: "à¸•à¹‰à¸™à¸ªà¸¸à¸”à¸«à¸¥à¹ˆà¸­",
    description: "à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",
    commandCategory: "à¸—à¸±à¹ˆà¸§à¹„à¸›",
    usages: "",
    cooldowns: 0
};

module.exports.run = async function({ api, event }) {
    try {
        // à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¹„à¸Ÿà¸¥à¹Œà¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
        const commandFiles = fs.readdirSync("./commands").filter(file => file.endsWith(".js"));

        // à¸”à¸¶à¸‡à¸Šà¸·à¹ˆà¸­à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
        const commandNames = commandFiles.map(file => {
            const command = require(`./${file}`);
            return command.config.name;
        });

        // à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹ƒà¸™à¸˜à¸µà¸¡à¸„à¸£à¸´à¸ªà¸•à¹Œà¸¡à¸²à¸ªà¹à¸šà¸šà¸™à¹ˆà¸²à¸£à¸±à¸
        const message = `
ğŸ„âœ¨â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âœ¨ğŸ„
      â„ï¸ğŸ **ğ‘¯ğ’ğ’‰ğ’ğ’‰ğ’! ğ‘´ğ‘¬ğ‘¹ğ‘¹ğ’€ ğ‘ªğ‘¯ğ‘¹ğ‘°ğ‘ºğ‘»ğ‘´ğ‘¨ğ‘º** ğŸâ„ï¸
  ğŸ… **ğ–ğğ¥ğœğ¨ğ¦ğ ğ­ğ¨ ğ’ğ“ğ„ğ‹ğ‹ğ˜ ğ‚ğ¡ğšğ­ ğğ¨ğ­!** ğŸ…
ğŸ„âœ¨â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âœ¨ğŸ„

ğŸ€ **ğŸ à¸£à¸²à¸¢à¸à¸²à¸£à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸ªà¸¸à¸”à¸à¸´à¹€à¸¨à¸© ğŸ** ğŸ€

${commandNames.map(cmd => `ğŸ„ âœ¨ /${cmd}`).join("\n")}

ğŸ…âœ¨â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âœ¨ğŸ…
    ğŸŒŸ **ğ‡ğšğ©ğ©ğ² ğ‡ğ¨ğ¥ğ¢ğğšğ²ğ¬ ğŸğ«ğ¨ğ¦ ğ’ğ“ğ„ğ‹ğ‹ğ˜!** ğŸŒŸ
ğŸ **à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£ à¸‚à¸­à¹ƒà¸«à¹‰à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚à¹ƒà¸™à¸—à¸¸à¸à¸§à¸±à¸™!** ğŸ
ğŸ„âœ¨â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âœ¨ğŸ„
`;

        // à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸¥à¸±à¸šà¹„à¸›
        api.sendMessage(message, event.threadID, event.messageID);
    } catch (error) {
        console.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸³à¸ªà¸±à¹ˆà¸‡:", error);
        api.sendMessage("âŒ à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸” à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡", event.threadID, event.messageID);
    }
};
